# GLOBALE ERROR DB (Antigravity Central)
| ID | Symptom | Root Cause | Fix | Prevention |
|---|---|---|---|---|
| VEGA-001 | `TypeError: unsupported format string passed to NoneType.__format__` im Benchmark-Tab | `tokens_per_second` war `None` statt numerisch, `.1f` Format-String konnte nicht angewendet werden | `tokens_ps = result.get('tokens_per_second', 0) or 0` - Verwende `or 0` um `None` zu `0` zu konvertieren | Immer `None`-Werte vor Format-Strings behandeln, besonders bei optionalen Dict-Keys |
| VEGA-002 | Chat-Fragen werden endlos wiederholt, Infinite Loop beim Chat-Input | `st.rerun()` nach `chat_input` verursacht doppelte Verarbeitung - Streamlit ruft automatisch rerun auf nach chat_input | Entferne `st.rerun()` nach chat_input Verarbeitung - Streamlit handled das automatisch | ⚠️ NIEMALS `st.rerun()` nach `st.chat_input()` aufrufen - Streamlit macht das intern bereits |
| RH-001 | 500: timed out waiting for llama runner to start / Systemabsturz | Port-Konflikt (11434) und GPU-Contention zwischen lokalem Ollama und Docker-Ollama | Lokales Ollama beenden (`taskkill /F /IM ollama.exe`), Docker-Container neu starten | Vor dem Start von Docker-Ollama prüfen, ob lokales Ollama läuft; Ports eindeutig vergeben |
| RB-001 | Admin-UI (Toolbar, Badges, Scripts) dauerhaft auf Live-Webseite sichtbar | `save()` serialisierte das komplette Iframe-DOM inklusive injizierter Editor-Elemente (Bridge-Skript, Overlays) | **Sanitize-Before-Save**: DOM klonen -> Editor-Elemente (`.rb-*, script`) aus dem Klon entfernen -> Erst dann HTML senden | Frontend-Logic muss strikte Trennung zwischen "View-State" (mit Tools) und "Persist-State" (Clean HTML) erzwingen. |
| EVERLAST-001 | Aufnahme stoppt nach 5 Sekunden automatisch obwohl Nutzer spricht | SILENCE_THRESHOLD=30 zu niedrig; FFT-Frequenzanalyse erkennt Sprache als Stille | Deaktiviere Silence Detection (manuelles Stoppen zuverlässiger) ODER Threshold→70+ | Amplitude-RMS statt FFT-Durchschnitt für Spracherkennung; längere Timeouts |
| EVERLAST-002 | Hotkey (Ctrl+Alt+E) triggert aber startet/stoppt Aufnahme nicht | Stale Closure: useEffect mit [isRecording] dependency; Handler hat alte Closure | Ref-basiert: isRecordingRef tracken, useEffect nur [isElectron], direkt mediaRecorder.stop() aufrufen | Event-Listener: State nicht im Handler nutzen; Refs für Callbacks; minimize Dependencies |
| EVERLAST-003 | Scrollbar sichtbar aber Maus-Scrollen blockiert | `-webkit-app-region: drag` auf Parent blockt ALLE Maus-Events inklusive Scroll | `.result-area/.result-content/.result-header` → `-webkit-app-region: no-drag` | Electron: Immer `no-drag` auf interaktiven Elementen explizit setzen |
